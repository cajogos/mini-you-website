{"version":3,"sources":["MiniYou.js","Compiler.js","Avatar.js","Canvas.js","Editor.js"],"names":["MINI_YOU","EDITOR","undefined","init","editorElement","canvasElement","Editor","CANVAS","attachListener","Canvas","Compiler","prototype","constructor","compileCode","code","JSON","parse","Avatar","canvas","this","_canvas","BODY_SHAPE_1","POINTS","SHIRTS","SHIRT","T_SHIRT","_init","_needsDrawing","_bodyColor","_shirtShape","get2DContext","strokeStyle","_bodyShape","_shirtColor","_draw","processData","_drawBody","bodyShape","data","getBodyColor","_drawShirt","getShirtShape","getShirtColor","body","shirt","shape","shirtShape","setBodyShape","color","setShirtColor","setShirtShape","ctx","getBodyShape","fillStyle","drawPolygon","getContext","$","after","e","text","offsetX","offsetY","_width","width","_height","height","_avatar","_ctx","fillRect","pixel","xValues","drawLine","i","console","log","j","message","handleEditorAlert","getWidth","lineTo","getHeight","stroke","startX","startY","points","moveTo","curX","curY","fill","beginPath","length","closePath","_compiler","_listeners","self","on","parseText","_element","keyCode","preventDefault","end","get","selectionEnd","val","selectionStart","start","substring","listener","push","_alertListeners","result","css","setText"],"mappings":"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","file":"avatar-creator.min.js","sourcesContent":["let MINI_YOU = {\n    EDITOR: undefined,\n    CANVAS: undefined,\n    initialized: false\n};\n\n/**\n *\n * @param {jQuery|HTMLElement} editorElement\n * @param {jQuery|HTMLElement} canvasElement\n */\nMINI_YOU.init = function (editorElement, canvasElement)\n{\n    MINI_YOU.EDITOR = new MINI_YOU.Editor(editorElement);\n    MINI_YOU.CANVAS = new MINI_YOU.Canvas(canvasElement);\n    MINI_YOU.EDITOR.attachListener(MINI_YOU.CANVAS);\n    MINI_YOU.initialized = true;\n};","MINI_YOU.Compiler = function ()\n{\n};\nMINI_YOU.Compiler.prototype.constructor = MINI_YOU.Compiler;\n\n/**\n * @param {string} code\n */\nMINI_YOU.Compiler.prototype.compileCode = function (code)\n{\n    let json = JSON.parse(code);\n    return json;\n};","/**\n * @param {MINI_YOU.Canvas} canvas\n * @constructor\n */\nMINI_YOU.Avatar = function (canvas)\n{\n    this._canvas = canvas;\n    this._init();\n};\nMINI_YOU.Avatar.prototype.constructor = MINI_YOU.Avatar;\n\n/**\n * @type {Object}\n */\nMINI_YOU.Avatar.BODY_SHAPE_1 = {\n    POINTS: [\n        [224, 144], [192, 144], [192, 64], [288, 64], [288, 144], [256, 144],\n        [256, 160], [352, 160],\n        // Left Arm\n        [352, 320], [304, 320], [304, 208], [304, 320],\n        // Left Leg\n        [304, 464], [256, 464], [256, 320],\n        // Torso\n        [224, 320],\n        // Right Leg\n        [224, 464], [176, 464], [176, 320],\n        // Right Arm\n        [176, 208], [176, 320], [128, 320], [128, 160], [224, 160]\n    ]\n};\n\nMINI_YOU.Avatar.SHIRTS = {\n    SHIRT: {\n        POINTS: [\n            [128, 160], [352, 160], [352, 288], [304, 288],\n            [304, 208], [304, 320], [176, 320], [176, 208],\n            [176, 288], [128, 288], [128, 160]\n        ]\n    },\n    T_SHIRT: {\n        POINTS: [\n            [128, 160], [352, 160], [352, 224], [304, 224],\n            [304, 208], [304, 320], [176, 320], [176, 208],\n            [176, 224], [128, 224], [128, 160]\n        ]\n    }\n};\n\n/**\n * @private\n */\nMINI_YOU.Avatar.prototype._init = function ()\n{\n    // Start the drawing flag\n    this._needsDrawing = true;\n\n    /*** Initialize defaults ***/\n    let ctx = this._canvas.get2DContext();\n    ctx.strokeStyle = 'black';\n\n    // Body\n    this._bodyShape = MINI_YOU.Avatar.BODY_SHAPE_1;\n    this._bodyColor = 'lightgreen';\n\n    // Shirt\n    this._shirtShape = MINI_YOU.Avatar.SHIRTS.SHIRT;\n    this._shirtColor = 'red';\n\n\n    this._draw(); // Do initial drawing\n};\n\n/**\n * @private\n */\nMINI_YOU.Avatar.prototype._draw = function ()\n{\n    if (this._needsDrawing)\n    {\n        // Draw  body\n        this._drawBody(this.getBodyShape(), this.getBodyColor());\n\n        // Draw shirt\n        this._drawShirt(this.getShirtShape(), this.getShirtColor());\n\n\n        this._needsDrawing = false;\n    }\n};\n\nMINI_YOU.Avatar.prototype.processData = function (data)\n{\n    // Body\n    if (typeof data.body !== 'undefined')\n    {\n        // Body shape\n        if (typeof data.body.shape !== 'undefined')\n        {\n            let bodyShape = data.body.shape;\n            switch (bodyShape)\n            {\n                case 'shape1':\n                default:\n                    this.setBodyShape(MINI_YOU.Avatar.BODY_SHAPE_1);\n            }\n        }\n        // Body color\n        if (typeof data.body.color !== 'undefined')\n        {\n            this.setBodyColor(data.body.color);\n        }\n    }\n\n    // Shirt\n    if (typeof data.shirt !== 'undefined')\n    {\n        // Shirt shape\n        if (typeof data.shirt.shape !== 'undefined')\n        {\n            let shirtShape = data.shirt.shape;\n            switch (shirtShape)\n            {\n                case 'tshirt':\n                    this.setShirtShape(MINI_YOU.Avatar.SHIRTS.T_SHIRT);\n                    break;\n                case 'shirt':\n                default:\n                    this.setShirtShape(MINI_YOU.Avatar.SHIRTS.SHIRT);\n            }\n        }\n        // Shirt color\n        if (typeof data.shirt.color !== 'undefined')\n        {\n            this.setShirtColor(data.shirt.color);\n        }\n    }\n\n    // Set the drawing!\n    this._draw();\n};\n\n/**\n * @param {Object} shape\n */\nMINI_YOU.Avatar.prototype.setBodyShape = function (shape)\n{\n    this._bodyShape = shape;\n    this._needsDrawing = true;\n};\n\n/**\n * @returns {Object}\n */\nMINI_YOU.Avatar.prototype.getBodyShape = function ()\n{\n    return this._bodyShape;\n};\n\n/**\n * @param {string} color\n */\nMINI_YOU.Avatar.prototype.setBodyColor = function (color)\n{\n    this._bodyColor = color;\n    this._needsDrawing = true;\n};\n\n/**\n * @returns {string}\n */\nMINI_YOU.Avatar.prototype.getBodyColor = function ()\n{\n    return this._bodyColor;\n};\n\n/**\n * @param {Object} bodyShape\n * @param {string} color\n * @private\n */\nMINI_YOU.Avatar.prototype._drawBody = function (bodyShape, color)\n{\n    let ctx = this._canvas.get2DContext();\n    ctx.fillStyle = color;\n    this._canvas.drawPolygon(bodyShape.POINTS[0][0], bodyShape.POINTS[0][1], bodyShape.POINTS, true, true);\n};\n\n/**\n * @returns {Object}\n */\nMINI_YOU.Avatar.prototype.getShirtShape = function ()\n{\n    return this._shirtShape;\n};\n\n/**\n * @param {Object} shirtShape\n */\nMINI_YOU.Avatar.prototype.setShirtShape = function (shirtShape)\n{\n    this._shirtShape = shirtShape;\n    this._needsDrawing = true;\n};\n\n/**\n * @returns {string}\n */\nMINI_YOU.Avatar.prototype.getShirtColor = function ()\n{\n    return this._shirtColor;\n};\n\n/**\n * @param {string} color\n */\nMINI_YOU.Avatar.prototype.setShirtColor = function (color)\n{\n    this._shirtColor = color;\n    this._needsDrawing = true;\n};\n\n/**\n * @param {Object} shirtShape\n * @param {string} color\n * @private\n */\nMINI_YOU.Avatar.prototype._drawShirt = function (shirtShape, color)\n{\n    let ctx = this._canvas.get2DContext();\n    ctx.fillStyle = color;\n    this._canvas.drawPolygon(shirtShape.POINTS[0][0], shirtShape.POINTS[0][1], shirtShape.POINTS, true, true);\n};","/**\n * @param canvas\n * @constructor\n */\nMINI_YOU.Canvas = function (canvas)\n{\n    this._canvas = canvas[0];\n    this._ctx = this._canvas.getContext('2d');\n\n    $(canvas).after('<div class=\"debugger\"></div>');\n    $(canvas).on('mousemove', function(e)\n    {\n        $('div.debugger').text('x: ' + e.offsetX + ' | y: ' + e.offsetY);\n    });\n\n    this._width = this._canvas.width;\n    this._height = this._canvas.height;\n\n    this._init();\n\n    this._avatar = new MINI_YOU.Avatar(this);\n};\nMINI_YOU.Canvas.prototype.constructor = MINI_YOU.Canvas;\n\nMINI_YOU.Canvas.prototype._init = function ()\n{\n    this._ctx.fillStyle = 'white';\n    this._ctx.fillRect(0, 0, this._width, this._height);\n\n    // Draw a grid\n    this._ctx.strokeStyle = '#EAEAEA';\n    let pixel = 16;\n\n    let xValues = '';\n    for (let i = 0; i < this._width; i += pixel)\n    {\n        this.drawLine(i, 0, i, this._height);\n        xValues += i + ', ';\n    }\n    console.log(xValues);\n    for (let j = 0; j < this._height; j += pixel)\n    {\n        this.drawLine(0, j, this._width, j);\n    }\n};\n\n/**\n * @returns {CanvasRenderingContext2D|*}\n */\nMINI_YOU.Canvas.prototype.get2DContext = function ()\n{\n    return this._ctx;\n};\n\nMINI_YOU.Canvas.prototype.handleEditorAlert = function (message, data)\n{\n    if (message === 'jsonChanged')\n    {\n        this._avatar.processData(data);\n    }\n};\n\nMINI_YOU.Canvas.prototype.getWidth = function ()\n{\n    return this._width;\n};\n\nMINI_YOU.Canvas.prototype.getHeight = function ()\n{\n    return this._height;\n};\n\nMINI_YOU.Canvas.prototype.drawLine = function (startX, startY, endX, endY)\n{\n    this._ctx.beginPath();\n    this._ctx.moveTo(startX, startY);\n    this._ctx.lineTo(endX, endY);\n    this._ctx.closePath();\n    this._ctx.stroke();\n};\n\nMINI_YOU.Canvas.prototype.drawPolygon = function (startX, startY, points, fill, stroke)\n{\n    this._ctx.beginPath();\n    this._ctx.moveTo(startX, startY);\n\n    for (let i = 0; i < points.length; i++)\n    {\n        let curX = points[i][0];\n        let curY = points[i][1];\n\n        this._ctx.lineTo(curX, curY);\n    }\n    this._ctx.closePath();\n\n    if (fill === true)\n    {\n        this._ctx.fill();\n    }\n\n    if (stroke === true)\n    {\n        this._ctx.stroke();\n    }\n};","MINI_YOU.Editor = function (editorElement)\n{\n    this._element = editorElement;\n\n    this._compiler = new MINI_YOU.Compiler();\n\n    this._listeners = [];\n\n    let self = this;\n    this._element.on('keyup', function (e)\n    {\n        self.parseText();\n    });\n    this._element.on('keydown', function (e)\n    {\n        switch (e.keyCode)\n        {\n            case 9: // Tab Key\n                e.preventDefault();\n                let start = $(this).get(0).selectionStart;\n                let end = $(this).get(0).selectionEnd;\n                $(this).val($(this).val().substring(0, start) + \"    \" + $(this).val().substring(end));\n                $(this).get(0).selectionStart = $(this).get(0).selectionEnd = start + 4;\n                break;\n        }\n    });\n};\nMINI_YOU.Editor.prototype.constructor = MINI_YOU.Editor;\n\nMINI_YOU.Editor.prototype.attachListener = function (listener)\n{\n    this._listeners.push(listener);\n};\n\nMINI_YOU.Editor.prototype._alertListeners = function (message, data)\n{\n    for (let i = 0; i < this._listeners.length; i++)\n    {\n        this._listeners[i].handleEditorAlert(message, data);\n    }\n};\n\nMINI_YOU.Editor.prototype.parseText = function ()\n{\n    let text = this._element.val();\n    try\n    {\n        let result = this._compiler.compileCode(text);\n\n        this._element.css({\n            'background': 'black',\n            'color': 'white'\n        });\n\n        this._alertListeners('jsonChanged', result);\n    }\n    catch (e)\n    {\n        console.error(e);\n        this._element.css({\n            'background': 'darkred',\n            'color': 'red'\n        });\n    }\n};\n\nMINI_YOU.Editor.prototype.setText = function (text)\n{\n    this._element.val(text);\n    this.parseText();\n};"]}